
#===========================================================
### roadmap for 14 oct
TODO
----

. add detail (gizmo_event) lines into sale_txn

. incorporate Contact search into relationships controller, view

. design widgets for searching for one or multiple contacts
  . couple results with ability to edit, delete
  . figure out smart button placement for "add new contact"

. add ajax logic to manage donation fee-tracking calc/display
    . some special elements that we are using to track fees, etc
    . needs some id-related changes in datalist_for to be able to 
    identify and group the data input elements that we track

. consider contact attributes:  preferred_contact_method_id
  . maybe add a radio button set going against bridge table

. integrate datalist_for with situation where two layers of
belongs_to associations exist under the parent
  . eg, GizmoEvent belongs to DonationLine belongs to Donation

. ? rails unique-id generator

### 13 oct
DONE
----

. Extend DatalistFor so that it can report the field names and
contents of all detail lines for a given parent id and its child
records (identified within a single form to DatalistFor by the
"tag" variable).

  . Created a method "get_datalist_detail" that returns a hash
  with keys corresponding to the ids of the child records.
    . Since some children might not yet exist in database,
    prefix "new-" before such keys (this also precludes the
    possibility of key collision within the returned hash).

  . ISSUE:  Results depend on the contents of "params" which may
  be a problem if caller is misconfigured and does not provide
  all a forms datalist detail's in params
    . Redesign??

  . Example hash contents:
  { :23 => { :name => "myname", :age => 25 },
   :"new-0" => { :age => 4, :name=> "yonde"}
  }

. Finish working prototype of methods to total and compare
  detail line (gizmo_event) required fees against the
  money_tendered by donor

  . Still needs to be attached as event to individual input fields
  . Needs better display to user
  . Ultimately will need to be adapted for sales, too, is the
  plan
