<div id="computer">
<!--
    @system_model = get_from_xml("/node/product")
    @system_serial_number = get_from_xml("/node/serial")
    @system_vendor = get_from_xml("/node/vendor")
    @mobo_model = get_from_xml("/node/node[@id='core']/product")
    @mobo_serial_number = get_from_xml("/node/node[@id='core']/serial")
    @mobo_vendor = get_from_xml("/node/node[@id='core']/vendor")
    @macaddr = get_from_xml("//node[@class='network']/serial")
-->
  <h2>Computer</h2>
  <table>
    <tr>
      <td>
        Vendor:
      </td>
      <td>
	<%= xml_value_of("vendor") %><br />
	<%= xml_first("id", "core") do xml_value_of("vendor") end %>
        <%# @report.system.vendor %>
      </td>
    </tr>
    <tr>
      <td>
        Model:
      </td>
      <td>
	<%= xml_value_of("product") %><br />
	<%= xml_first("id", "core") do xml_value_of("product") end %>
        <%# @report.system.model %>
      </td>
    </tr>
    <tr>
      <td>
        Serial Number:
      </td>
      <td>
	<%= xml_value_of("serial") %><br />
	<%= xml_first("id", "core") do xml_value_of("serial") end %><br />
	<%= xml_first("id", "network") do xml_value_of("serial") end %>
        <%# @report.system.serial_number %>
      </td>
    </tr>
    <% xml_foreach("class", "processor") do %>
      <% if xml_if("product") %>
        <tr>
          <td>
            Processor:
          </td>
          <td>
            <%= xml_value_of("product") %>
          </td>
        </tr>
        <% if xml_if("size") %>
          <tr>
            <td>
              Speed:
            </td>
            <td>
              <%= xml_value_of("size").to_hertz %>
            </td>
          </tr>
        <% end %>
      <% end %>
    <% end %>
    <% if false %> <!-- TODO: implement these! -->
    <tr>
      <td>
        BIOS Version:
      </td>
      <td>
        <% xpath_value_of("//node[@id='firmware']/version") %>
      </td>
    </tr>
    <% find_the_biggest("//node[contains(@id, 'usbhost')]", "capabilities/capability", "USB ") do |value| %>
    <tr>
      <td>
        USB Version:
      </td>
      <td>
        <% value %>
      </td>
    </tr>
    <% end %>
    <% end %>
  </table>
</div>
